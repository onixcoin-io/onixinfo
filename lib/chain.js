const chains = new Map()

class Chain {
  constructor({
    name, type,
    port, networkMagic,
    pubkeyhash, privatekey, scripthash, witnesshrp, evm,
    genesis, lastPoWBlockHeight
  } = {}) {
    this.name = name
    this.type = type
    this.port = port
    this.networkMagic = networkMagic
    this.pubkeyhash = pubkeyhash
    this.privatekey = privatekey
    this.scripthash = scripthash
    this.witnesshrp = witnesshrp
    this.evm = evm
    this.genesis = genesis
    this.lastPoWBlockHeight = lastPoWBlockHeight
  }

  static add(options) {
    let chain = new Chain(options)
    chains.set(chain.name, chain)
  }

  static get(name) {
    return chains.get(name)
  }
}

Chain.add({
  name: 'mainnet',
  type: 'mainnet',
  port: 5888,
  networkMagic: Buffer.from([0x4c, 0x3d, 0x2e, 0x1f]),
  pubkeyhash: 0x4b,
  privatekey: 0x80,
  scripthash: 0x89,
  witnesshrp: 'xc',
  evm: 0x21,
  genesis: Buffer.from('0100000000000000000000000000000000000000000000000000000000000000000000002422b6060cbf28341b1a679be3bd40fa8ff5aa29b55a6ddefb31c618b78b23b602014b61ffff001fc5a80000e965ffd002cd6ad0e2dc402b8044de833e06b23127ea8c3d80aec9141077149556e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b4210000000000000000000000000000000000000000000000000000000000000000ffffffff000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff780004bf91221d01044c6e54686520636f6d70757465722063616e2062652075736564206173206120746f6f6c20746f206c6962657261746520616e642070726f746563742070656f706c652c20726174686572207468616e20746f20636f6e74726f6c207468656d202d2048616c2046696e6e6579efbbbfffffffff0100f2052a010000004341042b3a4bca1515754545c5926c6a570c6382fd375f92cfea9cbfaae69162da5c1d5e1c2ddabc9db44a033adfaf39e46300d14088086285cb544a3e5399093e02fcac00000000', 'hex'),
  lastPoWBlockHeight: 1000
})

Chain.add({
  name: 'testnet',
  type: 'testnet',
  port: 15888,
  networkMagic: Buffer.from([0x5c, 0x4d, 0x3e, 0x2f]),
  pubkeyhash: 0x89,
  privatekey: 0x6e,
  scripthash: 0x6e,
  witnesshrp: 'tq',
  evm: 0x5c,
  genesis: Buffer.from('0100000000000000000000000000000000000000000000000000000000000000000000002422b6060cbf28341b1a679be3bd40fa8ff5aa29b55a6ddefb31c618b78b23b602014b61ffff001fc5a80000e965ffd002cd6ad0e2dc402b8044de833e06b23127ea8c3d80aec9141077149556e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b4210000000000000000000000000000000000000000000000000000000000000000ffffffff000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff780004bf91221d01044c6e54686520636f6d70757465722063616e2062652075736564206173206120746f6f6c20746f206c6962657261746520616e642070726f746563742070656f706c652c20726174686572207468616e20746f20636f6e74726f6c207468656d202d2048616c2046696e6e6579efbbbfffffffff0100f2052a010000004341042b3a4bca1515754545c5926c6a570c6382fd375f92cfea9cbfaae69162da5c1d5e1c2ddabc9db44a033adfaf39e46300d14088086285cb544a3e5399093e02fcac00000000', 'hex'),
  lastPoWBlockHeight: 1000
})

Chain.add({
  name: 'regtest',
  type: 'regtest',
  port: 25888,
  networkMagic: Buffer.from([0x6c, 0x5d, 0x4e, 0x3f]),
  pubkeyhash: 0x89,
  privatekey: 0x6e,
  scripthash: 0x6e,
  witnesshrp: 'xcrt',
  evm: 0x5c,
  genesis: Buffer.from('0100000000000000000000000000000000000000000000000000000000000000000000002422b6060cbf28341b1a679be3bd40fa8ff5aa29b55a6ddefb31c618b78b23b602014b61ffff001fc5a80000e965ffd002cd6ad0e2dc402b8044de833e06b23127ea8c3d80aec9141077149556e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b4210000000000000000000000000000000000000000000000000000000000000000ffffffff000101000000010000000000000000000000000000000000000000000000000000000000000000ffffffff780004bf91221d01044c6e54686520636f6d70757465722063616e2062652075736564206173206120746f6f6c20746f206c6962657261746520616e642070726f746563742070656f706c652c20726174686572207468616e20746f20636f6e74726f6c207468656d202d2048616c2046696e6e6579efbbbfffffffff0100f2052a010000004341042b3a4bca1515754545c5926c6a570c6382fd375f92cfea9cbfaae69162da5c1d5e1c2ddabc9db44a033adfaf39e46300d14088086285cb544a3e5399093e02fcac00000000', 'hex'),
  lastPoWBlockHeight: Infinity
})

module.exports = Chain
